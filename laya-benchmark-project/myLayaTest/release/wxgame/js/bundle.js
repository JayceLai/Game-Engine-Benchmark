var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();!function(){function e(t,n,a){function i(s,r){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!r&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<a.length;s++)i(a[s]);return i}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.init=function(){Laya.ClassUtils.regClass},e.width=640,e.height=1136,e.scaleMode="fixedwidth",e.screenMode="none",e.alignV="top",e.alignH="left",e.startScene="TestView.scene",e.sceneRoot="",e.debug=!1,e.stat=!1,e.physicsDebug=!1,e.exportSceneToJson=!0,e}();n["default"]=a,a.init()},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameConfig"),i=e("./ui/layaMaxUI"),o=function(){function e(){this.skeletonPrefab=null,this.skeletonScene=null,this.maxZ=30,this.maxX=6,this.initAmount=16,this.testViewUI=null,window.Laya3D?Laya3D.init(a["default"].width,a["default"].height):Laya.init(a["default"].width,a["default"].height,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.scaleMode=a["default"].scaleMode,Laya.stage.screenMode=a["default"].screenMode,Laya.stage.alignV=a["default"].alignV,Laya.stage.alignH=a["default"].alignH,Laya.stage.screenMode=Laya.Stage.SCREEN_HORIZONTAL,Laya.stage.useRetinalCanvas=!0,Laya.URL.exportSceneToJson=a["default"].exportSceneToJson,(a["default"].debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),a["default"].physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),a["default"].stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return e.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},e.prototype.onConfigLoaded=function(){if(window.wx){var e=wx,t=this;if(e&&e.loadSubpackage){var n=e.loadSubpackage({name:"LayaScene_main",success:function(e){console.log("分包加载成功"),Laya.loader.create("LayaScene_main/Conventional/main.ls",Laya.Handler.create(t,t.onCompelt)),Laya.Stat.show(0,0)},fail:function(e){console.error("分包加载失败")}});n.onProgressUpdate(function(e){console.log("下载进度",e.progress),console.log("已经下载的数据长度",e.totalBytesWritten),console.log("预期需要下载的数据总长度",e.totalBytesExpectedToWrite)})}}else Laya.loader.create("LayaScene_main/Conventional/main.ls",Laya.Handler.create(this,this.onCompelt)),Laya.Stat.show(0,0)},e.prototype.onCompelt=function(e){Laya.stage.addChild(e),this.skeletonScene=e,this.skeletonPrefab=e._children[1];for(var t=0;t<this.initAmount-1;t++){var n=Laya.Sprite3D.instantiate(this.skeletonPrefab);0==t?n.transform.position=new Laya.Vector3(0,0,-this.maxZ):1==t?n.transform.position=new Laya.Vector3(this.maxX/2,0,0):n.transform.position=new Laya.Vector3(this.getRandomInt(this.maxX)-this.maxX/2,0,-this.getRandomInt(this.maxZ)),e.addChild(n)}this.testViewUI=new i.ui.TestViewUI,this.testViewUI.y=Laya.stage.height-this.testViewUI.height,this.testViewUI.plusBtn.on(Laya.Event.CLICK,this,this.onClickPlus),this.testViewUI.minusBtn.on(Laya.Event.CLICK,this,this.onClickMinus),this.testViewUI.amountText.text=(this.skeletonScene.numChildren-1).toString(),Laya.stage.addChild(this.testViewUI)},e.prototype.onClickPlus=function(){var e=Laya.Sprite3D.instantiate(this.skeletonPrefab);e.transform.position=new Laya.Vector3(this.getRandomInt(this.maxX)-this.maxX/2,0,-this.getRandomInt(this.maxZ)),this.skeletonScene.addChild(e),this.testViewUI.amountText.text=(this.skeletonScene.numChildren-1).toString()},e.prototype.onClickMinus=function(){1!=this.skeletonScene.numChildren&&(this.skeletonScene.removeChildAt(this.getRandomInt(this.skeletonScene.numChildren-1)+1),this.testViewUI.amountText.text=(this.skeletonScene.numChildren-1).toString())},e.prototype.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))},e}();new o},{"./GameConfig":1,"./ui/layaMaxUI":3}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,i=Laya.View,o=Laya.ClassUtils.regClass;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.createChildren=function(){e.prototype.createChildren.call(this),this.createView(t.uiView)},t.uiView={type:"View",props:{width:640,height:80},compId:2,child:[{type:"Button",props:{y:32,x:452,width:80,"var":"plusBtn",skin:"comp/button.png",labelSize:50,labelAlign:"center",label:"+",height:40},compId:3},{type:"Button",props:{y:32,x:550,width:80,"var":"minusBtn",stateNum:3,skin:"comp/button.png",labelSize:50,labelAlign:"center",label:"-",height:40},compId:4},{type:"Text",props:{y:22,x:9,"var":"amountText",text:"20",fontSize:50,color:"#ffffff",runtime:"laya.display.Text"},compId:5}],loadList:["comp/button.png"],loadList3D:[]},t}(i);e.TestViewUI=t,o("ui.TestViewUI",t)}(a=n.ui||(n.ui={}))},{}]},{},[2]);